import{b as N,u as g,r as c,d as m,j as o,c as e}from"./index-75e0cb1c.js";import{S as f}from"./Sidebar-33147c50.js";import{T as x,a as k,b as w,c as h,d as t,e as C,f as r}from"./chunk-Z3IFIKNA-83e1cc00.js";import"./index.esm-efe2c39d.js";import"./index.esm-ed29fecc.js";import"./index.esm-b2e70fb2.js";import"./index.esm-90dfe48c.js";import"./index.esm-21486a75.js";const E=()=>{const l=N(),n=g(),[b,p]=c.useState([]),[u,i]=c.useState("");c.useEffect(()=>{m("Adtoken").get("admin/students").then(a=>{a.data.status==!1?(l({title:a.data.message,status:"error",duration:5e3,isClosable:!0,position:"top"}),localStorage.removeItem("Adtoken"),n("/admin")):p(a.data)})},[u]);const d=a=>{m("Adtoken").put(`admin/block-unblock-student?student=${a}`).then(s=>{s.data.status==!1?(l({title:s.data.message,status:"error",duration:5e3,isClosable:!0,position:"top"}),localStorage.removeItem("Adtoken"),n("/admin")):(i(`Clicked at ${new Date().toISOString()}`),l({title:s.data.message,status:"success",duration:5e3,isClosable:!0,position:"top"}))}).catch(s=>{console.log(s),i(a),l({title:s.message,status:"error",duration:5e3,isClosable:!0,position:"top"})})};return o("div",{className:"bg-sky-900 min-h-screen max-w-screen-2xl mx-auto flex overflow-x-hidden",children:[e("div",{className:"bg-dark-purple",children:e(f,{})}),o("div",{className:"w-full overflow-clip",children:[e("p",{className:"bg-white w-full p-3 my-5 uppercase font-bold text-center",children:"manage students"}),e(x,{className:"rounded-2xl mt-3",children:o(k,{variant:"simple",children:[e(w,{children:o(h,{className:"bg-green-300 h-14 cursor-pointer ",children:[e(t,{className:"p-3 border",children:"No"}),e(t,{className:"p-3 border",children:"Name"}),e(t,{className:"p-3 border",children:"Email"}),e(t,{className:"p-3 border",children:"Phone"}),e(t,{className:"p-3 border",children:"Board"}),e(t,{className:"p-3 border",children:"Class/Branch"}),e(t,{className:"p-3 border",children:"School/College"}),e(t,{className:"p-3 border",children:"Actions"})]})}),e(C,{className:"text-center",children:b.map((a,s)=>o(h,{className:"bg-white",children:[e(r,{className:"border",children:s+1}),e(r,{className:"border uppercase",children:a.name}),e(r,{className:"border",children:a.email}),e(r,{className:"border",children:a.phone}),e(r,{className:"border",children:a.board.name}),e(r,{className:"border",children:a.branch.name}),e(r,{className:"border",children:a.school}),e(r,{className:"border flex justify-center",children:a.blocked?e("button",{className:"bg-green-500 font-semibold text-white m-2 w-24 p-2 rounded-xl",onClick:()=>d(a._id),children:"UNBLOCK"}):e("button",{className:"bg-red-700 font-semibold text-white m-2 w-24 p-2 rounded-xl",onClick:()=>d(a._id),children:"BLOCK"})})]},s))})]})})]})]})};export{E as default};
