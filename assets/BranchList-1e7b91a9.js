import{r as n,u as w,b as C,d as c,j as o,c as e,R as S}from"./index-75e0cb1c.js";import{S as k}from"./Sidebar-33147c50.js";import{T as v,a as T,b as I,c as m,d,e as A,f as i}from"./chunk-Z3IFIKNA-83e1cc00.js";import"./index.esm-efe2c39d.js";import"./index.esm-ed29fecc.js";import"./index.esm-b2e70fb2.js";import"./index.esm-90dfe48c.js";import"./index.esm-21486a75.js";const U=()=>{const[p,b]=n.useState([]),[g,f]=n.useState([]),r=w(),[N,u]=n.useState(""),l=C();n.useEffect(()=>{c("Adtoken").get("admin/boards").then(t=>{t.data.status==!1?(l({title:t.data.message,status:"error",duration:5e3,isClosable:!0,position:"top"}),localStorage.removeItem("Adtoken"),r("/admin")):b(t.data.boards)}).catch(t=>{console.log(t),l({title:t.message,status:"error",duration:5e3,isClosable:!0,position:"top"})}),c("Adtoken").get("admin/branches").then(t=>{t.data.status==!1?(l({title:t.data.message,status:"error",duration:5e3,isClosable:!0,position:"top"}),localStorage.removeItem("Adtoken"),r("/admin")):f(t.data.branches)}).catch(t=>{console.log(t),l({title:t.message,status:"error",duration:5e3,isClosable:!0,position:"top"})})},[N]);const x=t=>{localStorage.setItem("branchId",t._id),r("/admin/edit-branch")},h=t=>{c("Adtoken").put(`admin/branch-list-unlist?id=${t}`).then(a=>{a.data.status==!1?(l({title:a.data.message,status:"error",duration:5e3,isClosable:!0,position:"top"}),localStorage.removeItem("Adtoken"),r("/admin")):(u(`Clicked at ${new Date().toISOString()}`),l({title:a.data.message,status:"success",duration:5e3,isClosable:!0,position:"top"}))}).catch(a=>{console.log(a),u(`Clicked at ${new Date().toISOString()}`),l({title:a.message,status:"error",duration:5e3,isClosable:!0,position:"top"})})};return o("div",{className:"bg-sky-900 min-h-screen max-w-screen-2xl mx-auto flex overflow-x-hidden ",children:[e("div",{className:"bg-dark-purple ",children:e(k,{})}),o("div",{className:"w-full overflow-clip",children:[e("p",{className:"bg-white w-full p-3 my-5 uppercase font-bold text-center",children:"manage branches"}),e("div",{className:"flex justify-around",children:e("div",{className:"bg-green-600  p-2 rounded-2xl flex",children:e("button",{className:"font-bold text-white",onClick:()=>r("/admin/add-branch"),children:"ADD BRANCH"})})}),e(v,{className:"rounded-2xl mt-3",children:o(T,{variant:"simple",children:[e(I,{className:"cursor-pointer",children:o(m,{className:"bg-green-300 h-14",children:[e(d,{className:"p-3 border",children:"No"}),e(d,{className:"p-3 border",children:"Name of Board/University"}),e(d,{className:"p-3 border",children:"Branch"}),e(d,{className:"p-3 border text-center",children:"Actions"})]})}),e(A,{className:"text-center",children:p.map((t,a)=>o(S.Fragment,{children:[o(m,{className:"bg-white uppercase",children:[e(i,{className:"border",children:a+1}),e(i,{className:"border",children:t.name}),e(i,{}),e(i,{})]},t._id),g.filter(s=>s.board===t._id).map(s=>o(m,{className:"bg-white uppercase",children:[e(i,{}),e(i,{}),e(i,{className:"border",children:s.name}),o(i,{className:"border flex justify-center",children:[e("button",{onClick:()=>x(s),className:"bg-yellow-600 font-semibold text-white m-2 w-20 p-2 rounded-xl",children:"EDIT"}),s.listed?e("button",{className:"bg-gray-600 font-semibold text-white m-2 w-20 p-2 rounded-xl",onClick:()=>h(s._id),children:"UNLIST"}):e("button",{className:"bg-blue-400 font-semibold text-white m-2 w-20 p-2 rounded-xl",onClick:()=>h(s._id),children:"LIST"})]})]},s._id))]}))})]})})]})]})};export{U as default};
