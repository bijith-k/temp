import{r as t,u as q,b as L,d as b,j as a,c as e,B as U}from"./index-75e0cb1c.js";import{c as T,a as m,u as _}from"./index.esm-7cbbfad3.js";import{l as $}from"./logoWhite-701db893.js";const A={name:"",email:"",phone:"",school:"",place:"",password:""},D=()=>{const[S,u]=t.useState(null),[B,C]=t.useState([]),[k,g]=t.useState([]),[o,E]=t.useState(""),[h,f]=t.useState(""),w=q(),p=L(),[x,N]=t.useState(null),[v,y]=t.useState(null);t.useEffect(()=>{b().get("auth/boards").then(r=>C(r.data.board)).catch(r=>console.error(r))},[]),t.useEffect(()=>{o?(f(""),b().get(`auth/branches?board=${o}`).then(r=>{g(r.data.branches)}).catch(r=>{console.log(r)})):g([])},[o]);const P=T({name:m().min(2).max(25).required("Please enter your name"),email:m().email().required("Please enter your email"),password:m().min(6).required("Please enter your password"),phone:m().matches(/^[0-9]{10}$/,"Phone number is not valid").required("Please enter your mobile number"),school:m().required("Please enter your institutions name"),place:m().required("Please enter your place")}),{values:s,errors:l,touched:n,handleBlur:d,handleChange:c,handleSubmit:j}=_({initialValues:A,validationSchema:P,onSubmit:(r,I)=>{if(!o){N("Please select a board");return}if(!h){y("Please select a branch");return}u(!0),b().post("auth/signup",{...r,board:o,branch:h}).then(i=>{u(!1),i.data.otpSend?(p({title:i.data.message,status:"success",duration:5e3,isClosable:!0,position:"top"}),w("/otp")):(u(!1),p({title:i.data.message,status:"error",duration:5e3,isClosable:!0,position:"top"}))}).catch(i=>{u(!1),console.log(i),p({title:i.response.data.errors,status:"error",duration:5e3,isClosable:!0,position:"top"})})}});return t.useEffect(()=>{localStorage.getItem("Stoken")&&w("/")},[]),a("div",{className:"bg-[#232946] max-w-screen-2xl mx-auto min-h-screen flex flex-col",children:[a("div",{className:"text-white mt-5 max-w-sm mx-auto p-3 rounded-2xl",children:[e("img",{src:$,className:"w-20 h-20 mx-auto mb-4",alt:"logo"}),e("p",{className:"font-bold text-3xl",children:"WELCOME TO EDU-HELP"}),e("p",{className:"uppercase text-center font-medium",children:"register to explore"})]}),a("div",{className:"container max-w-2xl mx-auto flex flex-col items-center justify-center px-2",children:[e("div",{className:"bg-white px-6 py-8 mt-6 rounded-2xl shadow-md text-black w-full",children:a("form",{action:"",onSubmit:j,children:[a("div",{className:"md:flex md:justify-between md:mb-4",children:[a("div",{className:"md:w-1/2 md:pr-2",children:[e("input",{type:"text",className:"block border border-grey-light w-full p-3 rounded mb-4",name:"name",placeholder:"Name",value:s.name,onChange:c,onBlur:d}),l.name&&n.name?e("p",{className:"form-error text-red-600",children:l.name}):null]}),a("div",{className:"md:w-1/2 md:pr-2",children:[e("input",{type:"email",className:"block border border-grey-light w-full p-3 rounded mb-4",name:"email",placeholder:"Email",value:s.email,onChange:c,onBlur:d}),l.email&&n.email?e("p",{className:"form-error text-red-600",children:l.email}):null]})]}),a("div",{className:"md:flex md:justify-between md:mb-4",children:[a("div",{className:"md:w-1/2 md:pr-2",children:[e("input",{type:"number",className:"block border border-grey-light w-full p-3 rounded mb-4",name:"phone",placeholder:"Mobile Number",value:s.phone,onChange:c,onBlur:d}),l.phone&&n.phone?e("p",{className:"form-error text-red-600",children:l.phone}):null]}),a("div",{className:"md:w-1/2 md:pr-2",children:[e("input",{type:"text",className:"block border border-grey-light w-full p-3 rounded mb-4",name:"school",placeholder:"School or College",value:s.school,onChange:c,onBlur:d}),l.school&&n.school?e("p",{className:"form-error text-red-600",children:l.school}):null]})]}),a("div",{className:"md:flex md:justify-between md:mb-4",children:[a("div",{className:"md:w-1/2 md:pr-2",children:[a("select",{name:"board",value:o,onChange:r=>{E(r.target.value),N(null)},className:"block border border-grey-light w-full p-3 rounded mb-4",children:[e("option",{value:"",className:"block border border-grey-light w-full p-3 rounded mb-4",disabled:!0,children:"Select Board/University"}),B.map(r=>e("option",{className:"block border border-grey-light w-full p-3 rounded mb-4",value:r._id,children:r.name},r._id))]}),x?e("p",{className:"form-error text-red-600",children:x}):null]}),a("div",{className:"md:w-1/2 md:pr-2",children:[a("select",{name:"branch",className:"block border border-grey-light w-full p-3 rounded mb-4",value:h,onChange:r=>{f(r.target.value),y(null)},children:[e("option",{value:"",className:"block border border-grey-light w-full p-3 rounded mb-4",disabled:!0,children:"Select Class/Branch"}),k.map(r=>e("option",{value:r._id,className:"block border border-grey-light w-full p-3 rounded mb-4",children:r.name},r._id))]}),v?e("p",{className:"form-error text-red-600",children:v}):null]})]}),a("div",{className:"md:flex md:justify-between md:mb-4",children:[a("div",{className:"md:w-1/2 md:pr-2",children:[e("input",{type:"text",className:"block border border-grey-light w-full p-3 rounded mb-4",name:"place",placeholder:"Place",value:s.place,onChange:c,onBlur:d}),l.place&&n.place?e("p",{className:"form-error text-red-600",children:l.place}):null]}),a("div",{className:"md:w-1/2 md:pr-2",children:[e("input",{type:"password",className:"block border border-grey-light w-full p-3 rounded mb-4",name:"password",placeholder:"Password",value:s.password,onChange:c,onBlur:d}),l.password&&n.password?e("p",{className:"form-error text-red-600",children:l.password}):null]})]}),e(U,{isLoading:S,type:"submit",className:"w-full text-center py-3 rounded bg-green-500 text-white hover:bg-green-300 focus:outline-none my-1",children:"CREATE ACCOUNT"})]})}),a("div",{className:"text-white mt-6",children:["Already have an account?",e("a",{className:"no-underline border-b ml-2 border-white text-yellow",href:"/signin",children:"Log in"})]}),a("div",{className:"text-white mb-5",children:["Register as a tutor?",e("a",{className:"no-underline border-b ml-2 border-white text-yellow",href:"/tutor/signup",children:"Register"})]})]})]})};export{D as default};
