import{b as p,u as c,r as m,j as n,c as a,d as b}from"./index-75e0cb1c.js";import{S as g}from"./Sidebar-33147c50.js";import"./index.esm-efe2c39d.js";import"./index.esm-ed29fecc.js";import"./index.esm-b2e70fb2.js";import"./index.esm-90dfe48c.js";import"./index.esm-21486a75.js";const C=()=>{const r=p(),i=c(),[e,o]=m.useState({plan:"",duration:"",price:""});return n("div",{className:"bg-sky-900 min-h-screen max-w-screen-2xl mx-auto flex overflow-x-hidden",children:[a("div",{className:"bg-dark-purple",children:a(g,{})}),n("div",{className:"w-full mt-10",children:[a("h1",{className:"text-center text-black  font-extrabold bg-white p-3 ",children:"ADD PLAN"}),n("form",{action:"",onSubmit:t=>{t.preventDefault();const l=/^[a-zA-Z0-9_-\s]+$/;if(!e.plan||!l.test(e.plan))return r({title:"Enter the name of the plan",status:"warning",duration:5e3,isClosable:!0,position:"top"});const d=/^1[0-2]$|^[1-9]$/;if(!e.duration||!d.test(e.duration))return r({title:"Enter the duration in number of months",status:"warning",duration:5e3,isClosable:!0,position:"top"});const u=/^[1-9]\d*(\.\d{1,2})?$/;if(!e.price||!u.test(e.price))return r({title:"Enter price for the plan",status:"warning",duration:5e3,isClosable:!0,position:"top"});b("Adtoken").post("admin/add-plan",{...e}).then(s=>{s.data.status==!1?(r({title:s.data.message,status:"error",duration:5e3,isClosable:!0,position:"top"}),localStorage.removeItem("Adtoken"),i("/admin")):(r({title:s.data.message,status:"success",duration:5e3,isClosable:!0,position:"top"}),i("/admin/plans"))}).catch(s=>{r({title:s.message,status:"success",duration:5e3,isClosable:!0,position:"top"}),console.error(s,"err")})},className:"flex flex-col mx-auto w-3/4 mt-8",children:[a("input",{type:"text",placeholder:"Enter plan name",onChange:t=>o({...e,plan:t.target.value}),id:"name",className:"block border border-grey-light w-full p-3 rounded mb-4 uppercase"}),a("input",{type:"text",placeholder:"Enter plan duration",onChange:t=>o({...e,duration:t.target.value}),id:"duration",className:"block border border-grey-light w-full p-3 rounded mb-4 uppercase"}),a("input",{type:"text",placeholder:"Enter price",onChange:t=>o({...e,price:t.target.value}),id:"price",className:"block border border-grey-light w-full p-3 rounded mb-4 uppercase"}),a("button",{type:"submit",className:"bg-gray-300 text-sky-900 p-3 font-semibold rounded-lg mt-2",children:"ADD PLAN"})]})]})]})};export{C as default};
