import{u as f,r as l,b as N,d as m,j as s,c as t}from"./index-75e0cb1c.js";import{S as x}from"./Sidebar-33147c50.js";import{T as w,a as v,b as S,c as u,d as r,e as T,f as d}from"./chunk-Z3IFIKNA-83e1cc00.js";import"./index.esm-efe2c39d.js";import"./index.esm-ed29fecc.js";import"./index.esm-b2e70fb2.js";import"./index.esm-90dfe48c.js";import"./index.esm-21486a75.js";const E=()=>{const i=f(),[b,h]=l.useState([]),[p,n]=l.useState(""),o=N();l.useEffect(()=>{m("Adtoken").get("admin/boards").then(e=>{e.data.status==!1?(o({title:e.data.message,status:"error",duration:5e3,isClosable:!0,position:"top"}),localStorage.removeItem("Adtoken"),i("/admin")):h(e.data.boards)}).catch(e=>{console.error(e),o({title:e.message,status:"error",duration:5e3,isClosable:!0,position:"top"})})},[p]);const g=e=>{localStorage.setItem("boardId",e._id),i("/admin/edit-board")},c=e=>{m("Adtoken").put(`admin/board-list-unlist?id=${e}`).then(a=>{a.data.status==!1?(o({title:a.data.message,status:"error",duration:5e3,isClosable:!0,position:"top"}),localStorage.removeItem("Adtoken"),i("/admin")):(n(`Clicked at ${new Date().toISOString()}`),o({title:a.data.message,status:"success",duration:5e3,isClosable:!0,position:"top"}))}).catch(a=>{console.log(a),n(`Clicked at ${new Date().toISOString()}`),o({title:a.message,status:"error",duration:5e3,isClosable:!0,position:"top"})})};return s("div",{className:"bg-sky-900 min-h-screen max-w-screen-2xl mx-auto flex overflow-x-hidden",children:[t("div",{className:"bg-dark-purple",children:t(x,{})}),s("div",{className:"w-full overflow-clip",children:[t("p",{className:"bg-white w-full p-3 my-5 uppercase font-bold text-center",children:"manage boards"}),t("div",{className:"flex justify-around",children:t("div",{className:"bg-green-600 text-white p-2 rounded-2xl flex",children:t("button",{className:"font-bold ",onClick:()=>i("/admin/add-board"),children:"ADD BOARD"})})}),t(w,{className:"rounded-2xl mt-3",children:s(v,{variant:"simple",children:[t(S,{children:s(u,{className:"bg-green-300 h-14",children:[t(r,{isNumeric:!0,className:"p-3 border",children:"No"}),t(r,{className:"p-3 border",children:"Name of Board/University"}),t(r,{className:"p-3 border text-center",children:"Actions"})]})}),t(T,{className:"text-center",children:b.map((e,a)=>s(u,{className:"bg-white uppercase",children:[t(d,{isNumeric:!0,className:"border",children:a+1}),t(d,{className:"border",children:e.name}),s(d,{className:"border flex justify-center",children:[t("button",{onClick:()=>g(e),className:"bg-yellow-600 font-semibold text-white m-2 w-20 p-2 rounded-xl",children:"EDIT"}),e.listed?t("button",{className:"bg-gray-600 font-semibold text-white m-2 w-20 p-2 rounded-xl",onClick:()=>c(e._id),children:"UNLIST"}):t("button",{className:"bg-blue-400 font-semibold text-white m-2 w-20 p-2 rounded-xl",onClick:()=>c(e._id),children:"LIST"})]})]},e._id))})]})})]})]})};export{E as default};
