import{b as O,u as $,r as l,d as C,j as s,c as e,l as U,R as W,F as V,f as Y,T as p,B as d,M as z,m as K,n as H,e as re}from"./index-75e0cb1c.js";import{N as ie,F as ce}from"./Footer-9eebb72f.js";import{P as G}from"./Pagination-6d1cdaaa.js";import{F as de}from"./chunk-IJBC3YLI-ecd8dcc2.js";import{F as ue}from"./chunk-RN6VKE3K-3067924d.js";import{S as he}from"./chunk-GJO77I2I-e28f2d83.js";import{N as J,C as X,a as Z,H as q,D as ee,b as te,B as se,T as me,c as ge,d as M,e as pe,f as B}from"./NotesSkeleton-a204e88b.js";import{A as ae,a as oe}from"./chunk-BPJV7R7V-e083844a.js";import{M as le}from"./chunk-YI7XFFAC-b56ce92b.js";import"./index.esm-ed29fecc.js";import"./index.esm-21486a75.js";import"./index.esm-b2e70fb2.js";import"./logoWhite-701db893.js";import"./chunk-QTKSMHLN-f35984ae.js";const ne=({searchQueryData:i,selectedSubjectData:c})=>{const g=O(),b=$(),[h,v]=l.useState([]),[m,w]=l.useState(""),[r,S]=l.useState("");return i(m),c(r),l.useEffect(()=>{C("Ttoken").get("tutor/subjects").then(a=>{a.data.status==!1?(localStorage.removeItem("Ttoken"),b("/tutor")):v(a.data.subjects)}).catch(a=>{console.log(a),g({title:a.message,status:"error",duration:5e3,isClosable:!0,position:"top"})})},[]),s("div",{className:"m-4 md:m-8 flex md:justify-evenly md:flex-row flex-col items-center ",children:[e("div",{className:"bg-gray-600 w-max p-3 rounded-full md:mb-0 mb-4",children:e("input",{type:"text",name:"",id:"",placeholder:"Search...",className:"bg-transparent placeholder-white font-semibold focus:outline-none",onChange:a=>w(a.target.value)})}),e("div",{children:s(de,{className:"w-56",children:[e(ue,{id:"demo-simple-select-label",className:"text-white",children:"Subject"}),s(he,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:r,label:"subject",variant:"filled",onChange:a=>S(a.target.value),children:[e("option",{value:"",children:"All Subjects"}),h.map(a=>e("option",{value:a.name,className:"uppercase",children:a.name},a._id))]})]})})]})},fe=()=>{const i=O(),c=$(),{isOpen:g,onOpen:b,onClose:h}=U(),v=W.useRef(),[m,w]=l.useState([]),[r,S]=l.useState(""),[a,L]=l.useState(""),[u,E]=l.useState(1),[x,R]=l.useState(4),j=u*x,F=j-x,[k,D]=l.useState(!0),[P,_]=l.useState(null),y=t=>{S(t)},A=t=>{L(t)},[Q,T]=l.useState("");l.useEffect(()=>{C("Ttoken").get(`tutor/uploaded-notes?id=${!0}`).then(t=>{t.data.status==!1?(i({title:t.data.message,status:"error",duration:5e3,isClosable:!0,position:"top"}),localStorage.removeItem("Ttoken"),c("/tutor")):(w(t.data),D(!1))}).catch(t=>{console.log(t),D(!1),i({title:t.message,status:"error",duration:5e3,isClosable:!0,position:"top"})})},[Q]);const N=r.trim()!==""||a!==""?m.filter(t=>(r.trim()===""||t.note_name.toLowerCase().includes(r.toLowerCase())||t.branch.name.toLowerCase().includes(r.toLowerCase())||t.subject.name.toLowerCase().includes(r.toLowerCase()))&&(a===""||a.toLowerCase()===t.subject.name.toLowerCase())):m;let f;r!=""||a!=""?f=N:f=N.slice(F,j);const I=t=>{C("Ttoken").put(`tutor/notes-private-public?id=${t}`).then(n=>{n.data.status==!1?(i({title:n.data.message,status:"error",duration:5e3,isClosable:!0,position:"top"}),localStorage.removeItem("Ttoken"),c("/tutor")):(i({title:n.data.message,status:"success",duration:5e3,isClosable:!0,position:"top"}),T(new Date().toISOString()))}).catch(n=>{console.log(n),i({title:n.message,status:"error",duration:5e3,isClosable:!0,position:"top"})})},o=t=>{h(),C("Ttoken").delete(`tutor/delete-notes?id=${t}`).then(n=>{n.data.status==!1?(i({title:n.data.message,status:"error",duration:5e3,isClosable:!0,position:"top"}),localStorage.removeItem("Ttoken"),c("/tutor")):(i({title:n.data.message,status:"success",duration:5e3,isClosable:!0,position:"top"}),T(new Date().toISOString()))}).catch(n=>{console.log(n),i({title:n.message,status:"error",duration:5e3,isClosable:!0,position:"top"})})};return s(V,{children:[m.length>0?e(ne,{searchQueryData:y,selectedSubjectData:A}):null,k?e(J,{}):e("div",{className:"flex justify-center",children:m.length>0?e("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-2",children:f.length>0?f.map((t,n)=>s(X,{maxW:"sm",children:[s(Z,{children:[e("iframe",{title:"PDF Viewer",src:`http://localhost:4000/${t.file_path}`,height:"240",scrolling:"no",borderRadius:"lg"}),s(Y,{mt:"6",spacing:"3",children:[s(q,{size:"md",children:[" ",t.note_name]}),s(p,{children:["Class : ",t.branch.name," ",e("br",{}),"Subject : ",t.subject.name]}),t.approved?e(p,{children:"Status : Approved"}):t.rejected?s(V,{children:[e(p,{children:"Status : Rejected"}),s(p,{children:["Reason : ",t.rejection_reason]})]}):e(p,{children:"Status : Pending Admin approval"})]})]}),e(ee,{}),e(te,{children:s(se,{spacing:"2",children:[e(d,{className:"bg-red-100 p-3 rounded-lg",children:e("a",{href:`http://localhost:4000/${t.file_path}`,target:"_blank",children:"VIEW"})}),t.private?e(d,{className:"bg-red-100 p-3 rounded-lg",onClick:()=>I(t._id),children:"MAKE PUBLIC"}):e(d,{className:"bg-red-100 p-3 rounded-lg",onClick:()=>I(t._id),children:"MAKE PRIVATE"}),e(d,{className:"bg-red-500 text-white p-3 rounded-lg",onClick:()=>{_(t._id),b()},children:"DELETE"}),e(ae,{isOpen:g,leastDestructiveRef:v,onClose:h,children:e(z,{children:s(oe,{children:[e(K,{fontSize:"lg",fontWeight:"bold",children:"Delete Note"}),e(H,{children:"Are you sure? You can't undo this action afterwards."}),s(le,{children:[e(d,{ref:v,onClick:h,children:"Cancel"}),e(d,{colorScheme:"red",onClick:()=>o(P),ml:3,children:"Delete"})]})]})})})]})})]},n)):s("p",{className:" text-white ",children:['No results found for "',r,'" and "',a,'"']})}):e("div",{children:e("p",{className:"text-xl text-white font-bold text-center",children:"You have not yet uploaded any notes"})})}),r!=""||a!=""?null:e(G,{totalContents:m.length,contentsPerPage:x,setCurrentPage:E,currentPage:u})]})},be=()=>{const i=$(),c=O(),{isOpen:g,onOpen:b,onClose:h}=U(),v=W.useRef(),[m,w]=l.useState([]),[r,S]=l.useState("");localStorage.getItem("Ttoken");const[a,L]=l.useState(""),[u,E]=l.useState(""),[x,R]=l.useState(!0),[j,F]=l.useState(null),[k,D]=l.useState(1),[P,_]=l.useState(4),y=k*P,A=y-P,Q=t=>{L(t)},T=t=>{E(t)};l.useEffect(()=>{C("Ttoken").get(`tutor/uploaded-questions?id=${!0}`).then(t=>{t.data.status==!1?(c({title:t.data.message,status:"error",duration:5e3,isClosable:!0,position:"top"}),localStorage.removeItem("Ttoken"),i("/tutor")):(w(t.data),R(!1))}).catch(t=>{console.log(t),R(!1),c({title:t.message,status:"error",duration:5e3,isClosable:!0,position:"top"})})},[r]);const N=a.trim()!==""||u!==""?m.filter(t=>(a.trim()===""||t.exam_name.toLowerCase().includes(a.toLowerCase())||t.branch.name.toLowerCase().includes(a.toLowerCase())||t.subject.name.toLowerCase().includes(a.toLowerCase()))&&(u===""||u.toLowerCase()===t.subject.name.toLowerCase())):m;let f;a!=""||u!=""?f=N:f=N.slice(A,y);const I=t=>{C("Ttoken").put(`tutor/questions-private-public?id=${t}`).then(n=>{n.data.status==!1?(c({title:n.data.message,status:"error",duration:5e3,isClosable:!0,position:"top"}),localStorage.removeItem("Ttoken"),i("/tutor")):(c({title:n.data.message,status:"success",duration:5e3,isClosable:!0,position:"top"}),S(new Date().toISOString()))}).catch(n=>{console.log(n),c({title:n.message,status:"error",duration:5e3,isClosable:!0,position:"top"})})},o=t=>{h(),C("Ttoken").delete(`tutor/delete-questions?id=${t}`).then(n=>{n.data.status==!1?(c({title:n.data.message,status:"error",duration:5e3,isClosable:!0,position:"top"}),localStorage.removeItem("Ttoken"),i("/tutor")):(c({title:n.data.message,status:"success",duration:5e3,isClosable:!0,position:"top"}),S(new Date().toISOString()))}).catch(n=>{console.log(n),c({title:n.message,status:"error",duration:5e3,isClosable:!0,position:"top"})})};return s(V,{children:[m.length>0?e(ne,{searchQueryData:Q,selectedSubjectData:T}):null,x?e(J,{}):e("div",{className:"flex justify-center",children:m.length>0?e("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-2",children:f.length>0?f.map((t,n)=>s(X,{maxW:"sm",children:[s(Z,{children:[e("iframe",{title:"PDF Viewer",src:`http://localhost:4000/${t.file_path}`,height:"240",scrolling:"no",borderRadius:"lg"}),s(Y,{mt:"6",spacing:"3",children:[s(q,{size:"md",className:"uppercase",children:[" ",t.exam_name]}),s(p,{className:"uppercase",children:["Class : ",t.branch.name," ",e("br",{}),"Subject : ",t.subject.name]}),t.approved?e(p,{children:"Status : Approved"}):t.rejected?s(V,{children:[e(p,{children:"Status : Rejected"}),s(p,{children:["Reason : ",t.rejection_reason]})]}):e(p,{children:"Status : Pending Admin approval"})]})]}),e(ee,{}),e(te,{children:s(se,{spacing:"2",children:[e(d,{className:"bg-red-100 p-3 rounded-lg",children:e("a",{href:`http://localhost:4000/${t.file_path}`,target:"_blank",children:"VIEW"})}),t.private?e(d,{className:"bg-red-100 p-3 rounded-lg",onClick:()=>I(t._id),children:"MAKE PUBLIC"}):e(d,{className:"bg-red-100 p-3 rounded-lg",onClick:()=>I(t._id),children:"MAKE PRIVATE"}),e(d,{className:"bg-red-500 text-white p-3 rounded-lg",onClick:()=>{F(t._id),b()},children:"REMOVE"}),e(ae,{isOpen:g,leastDestructiveRef:v,onClose:h,children:e(z,{children:s(oe,{children:[e(K,{fontSize:"lg",fontWeight:"bold",children:"Remove from favourite"}),e(H,{children:"Are you sure? You can't undo this action afterwards."}),s(le,{children:[e(d,{ref:v,onClick:h,children:"Cancel"}),e(d,{colorScheme:"red",onClick:()=>o(j),ml:3,children:"Delete"})]})]})})})]})})]},n)):s("p",{children:['No results found for "',a,'" and "',u,'"']})}):e("div",{children:e("p",{className:"text-xl text-white font-bold text-center",children:"You have not yet uploaded any question papers"})})}),a!=""||u!=""?null:e(G,{totalContents:m.length,contentsPerPage:P,setCurrentPage:D,currentPage:k})]})},Se=()=>{const{isOpen:i,onOpen:c,onClose:g}=U(),b=W.useRef(),[h,v]=l.useState([]),[m,w]=l.useState(""),r=O(),S=$(),[a,L]=l.useState(""),[u,E]=l.useState(""),[x,R]=l.useState(1),[j,F]=l.useState(4),k=x*j,D=k-j,[P,_]=l.useState(!0),[y,A]=l.useState(null),Q=o=>{L(o)},T=o=>{E(o)};l.useEffect(()=>{C("Ttoken").get(`tutor/uploaded-videos?id=${!0}`).then(o=>{o.data.status==!1?(r({title:o.data.message,status:"error",duration:5e3,isClosable:!0,position:"top"}),localStorage.removeItem("Ttoken"),S("/tutor")):(v(o.data),_(!1))}).catch(o=>{console.log(o),_(!1),r({title:o.message,status:"error",duration:5e3,isClosable:!0,position:"top"})})},[m]);const N=a.trim()!==""||u!==""?h.filter(o=>(a.trim()===""||o.video_name.toLowerCase().includes(a.toLowerCase())||o.branch.name.toLowerCase().includes(a.toLowerCase())||o.subject.name.toLowerCase().includes(a.toLowerCase()))&&(u===""||u.toLowerCase()===o.subject.name.toLowerCase())):h;a!=""||u!=""||N.slice(D,k);const f=o=>{C("Ttoken").put(`tutor/videos-private-public?id=${o}`).then(t=>{t.data.status==!1?(r({title:t.data.message,status:"error",duration:5e3,isClosable:!0,position:"top"}),localStorage.removeItem("Ttoken"),S("/tutor")):(r({title:t.data.message,status:"success",duration:5e3,isClosable:!0,position:"top"}),w(new Date().toISOString()))}).catch(t=>{console.log(t),r({title:t.message,status:"error",duration:5e3,isClosable:!0,position:"top"})})},I=o=>{g(),C("Ttoken").delete(`tutor/delete-videos?id=${o}`).then(t=>{t.data.status==!1?(r({title:t.data.message,status:"error",duration:5e3,isClosable:!0,position:"top"}),localStorage.removeItem("Ttoken"),S("/tutor")):(r({title:t.data.message,status:"success",duration:5e3,isClosable:!0,position:"top"}),w(new Date().toISOString()))}).catch(t=>{console.log(t),r({title:t.message,status:"error",duration:5e3,isClosable:!0,position:"top"})})};return s(V,{children:[h.length>0?e(ne,{searchQueryData:Q,selectedSubjectData:T}):null,P?e(J,{}):e("div",{className:"flex justify-center",children:h.length>0?e("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-2",children:N.length>0?N.map((o,t)=>s(X,{maxW:"sm",children:[s(Z,{children:[e("iframe",{title:"PDF Viewer",src:o.video_link,height:"240",scrolling:"no",borderRadius:"lg"}),s(Y,{mt:"6",spacing:"3",children:[s(q,{size:"md",children:[" ",o.video_name]}),s(p,{children:["Class : ",o.branch.name," ",e("br",{}),"Subject : ",o.subject.name]}),o.approved?e(p,{children:"Status : Approved"}):e(p,{children:"Status : Pending Admin approval"}),o.rejected?e(p,{children:"Status : Rejected"}):null]})]}),e(ee,{}),e(te,{children:s(se,{spacing:"2",className:"mx-auto",children:[o.private?e(d,{className:"bg-red-100 p-3 rounded-lg",onClick:()=>f(o._id),children:"MAKE PUBLIC"}):e(d,{className:"bg-red-100 p-3 rounded-lg",onClick:()=>f(o._id),children:"MAKE PRIVATE"}),e(d,{className:"bg-red-500 text-white p-3 rounded-lg",onClick:()=>{A(o._id),c()},children:"DELETE"}),e(ae,{isOpen:i,leastDestructiveRef:b,onClose:g,children:e(z,{children:s(oe,{children:[e(K,{fontSize:"lg",fontWeight:"bold",children:"Delete Video"}),e(H,{children:"Are you sure? You can't undo this action afterwards."}),s(le,{children:[e(d,{ref:b,onClick:g,children:"Cancel"}),e(d,{colorScheme:"red",onClick:()=>I(y),ml:3,children:"Delete"})]})]})})})]})})]},t)):s("p",{children:['No results found for "',a,'" and "',u,'"']})}):e("div",{children:e("p",{className:"text-xl text-white font-bold text-center",children:"You have not yet uploaded any videos"})})}),a!=""||u!=""?null:e(G,{totalContents:h.length,contentsPerPage:j,setCurrentPage:R,currentPage:x})]})},Re=()=>{const i=$(),c=O(),{tutor:g}=re(b=>b.tutor);return l.useEffect(()=>{g.approved==!1&&g.rejected==!1?i("/tutor/approval-pending"):g.rejected?i("/tutor/approval-rejected"):g.blocked&&(localStorage.removeItem("Ttoken"),i("/tutor"),c({title:"Blocked",description:"Your account is blocked by the admin",status:"error",duration:5e3,isClosable:!0,position:"top"}))},[]),s("div",{className:"bg-gray-400 min-h-screen max-w-screen-2xl mx-auto w-full overflow-x-hidden",children:[e(ie,{}),e("div",{className:"bg-gray-600 uppercase h-14 text-center text-white font-bold text-xl pt-3",children:"your uploads"}),s(me,{variant:"line",colorScheme:"green",children:[s(ge,{className:"bg-gray-300 text-black",children:[e(M,{className:"w-1/3",children:"NOTES"}),e(M,{className:"w-1/3",children:"VIDEOS"}),e(M,{className:"w-1/3",children:"QUESTION PAPERS"})]}),s(pe,{className:"bg-gray-400 min-h-screen",children:[e(B,{children:e(fe,{})}),e(B,{children:e(Se,{})}),e(B,{children:e(be,{})})]})]}),e("div",{children:e(ce,{})})]})};export{Re as default};
