import{r as u,u as w,a as f,b as N,j as a,c as e,B as S,d as v,s as y}from"./index-75e0cb1c.js";import{c as k,a as h,u as C}from"./index.esm-7cbbfad3.js";import{l as E}from"./logoWhite-701db893.js";const I={email:"",password:""},D=()=>{const[p,o]=u.useState(null),l=w(),g=f(),r=N(),x=k({email:h().email().required("Please enter your email"),password:h().required("Please enter your password")}),{values:n,errors:s,touched:i,handleBlur:d,handleChange:c,handleSubmit:b}=C({initialValues:I,validationSchema:x,onSubmit:(m,B)=>{o(!0),v().post("auth/signin",{...m}).then(t=>{o(!1),t.data.created?(r({title:t.data.message,status:"success",duration:5e3,isClosable:!0,position:"top"}),g(y({student:t.data.student})),localStorage.setItem("Stoken",t.data.token),l("/")):r({title:t.data.message,status:"error",duration:5e3,isClosable:!0,position:"top"})}).catch(t=>{o(!1),console.log(t),r({title:t.message,status:"error",duration:5e3,isClosable:!0,position:"top"})})}});return u.useEffect(()=>{localStorage.getItem("Stoken")&&l("/")},[l]),a("div",{className:"bg-[#232946] max-w-screen-2xl mx-auto min-h-screen flex flex-col",children:[a("div",{className:"text-white mt-10 max-w-sm mx-auto p-3 rounded-2xl",children:[e("img",{src:E,className:"w-20 h-20 mx-auto mb-4",alt:"logo"}),e("p",{className:"font-bold text-3xl",children:"WELCOME TO EDU-HELP"}),e("p",{className:"uppercase text-center font-medium",children:"sign in to continue"})]}),a("div",{className:"container max-w-sm mx-auto flex flex-col items-center mt-10  px-2",children:[e("div",{className:"bg-white px-6 py-8 mt-0 rounded-2xl shadow-md text-black w-full",children:a("form",{action:"",onSubmit:b,children:[e("input",{type:"email",className:"block border border-grey-light w-full p-3 rounded mb-4",name:"email",placeholder:"Email",value:n.email,onChange:c,onBlur:d}),s.email&&i.email?e("p",{className:"form-error text-red-600",children:s.email}):null,e("input",{type:"password",className:"block border border-grey-light w-full p-3 rounded mb-4",name:"password",placeholder:"Password",value:n.password,onChange:c,onBlur:d}),s.password&&i.password?e("p",{className:"form-error text-red-600",children:s.password}):null,e(S,{isLoading:p,type:"submit",className:"w-full text-center py-3 rounded bg-green-500 text-white hover:bg-green-300 focus:outline-none my-1",children:"SIGN IN"})]})}),a("div",{className:"text-white mt-6",children:["Don't have an account?",e("a",{className:"no-underline border-b ml-2 border-white text-yellow",href:"/signup",children:"Signup"})]}),a("div",{className:"text-white mb-5",children:["Sign in as a tutor?",e("a",{className:"no-underline border-b ml-2 border-white text-yellow",href:"/tutor",children:"Sign in"})]})]})]})};export{D as default};
