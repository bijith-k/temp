import{r as u,u as b,a as f,b as w,j as l,c as e,B as N,d as v}from"./index-75e0cb1c.js";import{c as k,a as p,u as y}from"./index.esm-7cbbfad3.js";import{l as S}from"./logoWhite-701db893.js";const C={email:"",password:""},L=()=>{const[h,s]=u.useState(null),o=b();f();const r=w(),g=k({email:p().email().required("Please enter your email"),password:p().required("Please enter your password")}),{values:n,errors:t,touched:i,handleBlur:d,handleChange:m,handleSubmit:x}=y({initialValues:C,validationSchema:g,onSubmit:(c,I)=>{s(!0),v().post("auth/admin-signin",{...c}).then(a=>{s(!1),a.data.created?(r({title:a.data.message,status:"success",duration:5e3,isClosable:!0,position:"top"}),localStorage.setItem("Adtoken",a.data.token),o("/admin/dashboard")):r({title:a.data.message,status:"error",duration:5e3,isClosable:!0,position:"top"})}).catch(a=>{s(!1),r({title:a.response.data.message,status:"error",duration:5e3,isClosable:!0,position:"top"})})}});return u.useEffect(()=>{localStorage.getItem("Adtoken")&&o("/admin/dashboard")},[o]),l("div",{className:"bg-dark-purple max-w-screen-2xl mx-auto min-h-screen flex flex-col",children:[l("div",{className:"text-white mt-10 max-w-sm mx-auto p-3 rounded-2xl",children:[e("img",{src:S,className:"w-20 h-20 mx-auto mb-4",alt:"logo"}),e("p",{className:"font-bold text-3xl",children:"WELCOME ADMIN"}),e("p",{className:"uppercase text-center font-medium",children:"sign in to continue"})]}),e("div",{className:"container max-w-sm mx-auto flex flex-col items-center mt-10 px-2",children:e("div",{className:"bg-white px-6 py-8 mt-0 rounded-2xl shadow-md text-black w-full",children:l("form",{action:"",onSubmit:x,children:[e("input",{type:"email",className:"block border border-grey-light w-full p-3 rounded mb-4",name:"email",placeholder:"Email",value:n.email,onChange:m,onBlur:d}),t.email&&i.email?e("p",{className:"form-error text-red-600",children:t.email}):null,e("input",{type:"password",className:"block border border-grey-light w-full p-3 rounded mb-4",name:"password",placeholder:"Password",value:n.password,onChange:m,onBlur:d}),t.password&&i.password?e("p",{className:"form-error text-red-600",children:t.password}):null,e(N,{isLoading:h,type:"submit",className:"w-full text-center py-3 rounded bg-green-500 text-white hover:bg-green-300 focus:outline-none my-1",children:"SIGN IN"})]})})})]})};export{L as default};
