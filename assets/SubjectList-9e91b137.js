import{r as n,u as f,b as N,d as m,j as s,c as t}from"./index-75e0cb1c.js";import{S as x}from"./Sidebar-33147c50.js";import{T as S,a as w,b as T,c as u,d as i,e as C,f as r}from"./chunk-Z3IFIKNA-83e1cc00.js";import"./index.esm-efe2c39d.js";import"./index.esm-ed29fecc.js";import"./index.esm-b2e70fb2.js";import"./index.esm-90dfe48c.js";import"./index.esm-21486a75.js";const _=()=>{const[b,h]=n.useState([]),l=f(),o=N(),[p,d]=n.useState("");n.useEffect(()=>{m("Adtoken").get("admin/subjects").then(e=>{e.data.status==!1?(o({title:e.data.message,status:"error",duration:5e3,isClosable:!0,position:"top"}),localStorage.removeItem("Adtoken"),l("/admin")):h(e.data.subjects)}).catch(e=>{console.log(e),o({title:e.message,status:"error",duration:5e3,isClosable:!0,position:"top"})})},[p]);const g=e=>{localStorage.setItem("subjectId",e._id),localStorage.setItem("subBranchId",e.branch._id),l("/admin/edit-subject")},c=e=>{m("Adtoken").put(`admin/subject-list-unlist?id=${e}`).then(a=>{a.data.status==!1?(o({title:a.data.message,status:"error",duration:5e3,isClosable:!0,position:"top"}),localStorage.removeItem("Adtoken"),l("/admin")):(console.log("first"),d(`Clicked at ${new Date().toISOString()}`),o({title:a.data.message,status:"success",duration:5e3,isClosable:!0,position:"top"}))}).catch(a=>{console.log(a),d(`Clicked at ${new Date().toISOString()}`),o({title:a.message,status:"error",duration:5e3,isClosable:!0,position:"top"})})};return s("div",{className:"bg-sky-900 min-h-screen max-w-screen-2xl mx-auto flex overflow-x-hidden",children:[t("div",{className:"bg-dark-purple",children:t(x,{})}),s("div",{className:"w-full overflow-clip",children:[t("p",{className:"bg-white w-full p-3 my-5 uppercase font-bold text-center",children:"manage subjects"}),t("div",{className:"flex justify-around",children:t("div",{className:"bg-green-600 p-2 rounded-2xl flex",children:t("button",{className:"font-bold text-white",onClick:()=>l("/admin/add-subject"),children:"ADD SUBJECT"})})}),t(S,{className:"rounded-2xl mt-3",children:s(w,{variant:"simple",children:[t(T,{children:s(u,{className:"bg-green-300 h-14",children:[t(i,{className:"p-3 border",children:"No"}),t(i,{className:"p-3 border",children:"Name of Subject"}),t(i,{className:"p-3 border",children:"Name of Branch"}),t(i,{className:"p-3 border text-center",children:"Actions"})]})}),t(C,{className:"text-center",children:b.map((e,a)=>s(u,{className:"uppercase bg-white",children:[t(r,{className:"border",children:a+1}),t(r,{className:"border",children:e.name}),t(r,{className:"border",children:e.branch.name}),s(r,{className:"border flex justify-center",children:[t("button",{onClick:()=>g(e),className:"bg-yellow-600 font-semibold text-white m-2 w-20 p-2 rounded-xl",children:"EDIT"}),e.listed?t("button",{className:"bg-gray-600 font-semibold text-white m-2 w-20 p-2 rounded-xl",onClick:()=>c(e._id),children:"UNLIST"}):t("button",{className:"bg-blue-400 font-semibold text-white m-2 w-20 p-2 rounded-xl",onClick:()=>c(e._id),children:"LIST"})]})]},e._id))})]})})]})]})};export{_ as default};
