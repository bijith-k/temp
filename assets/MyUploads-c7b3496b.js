import{u as M,l as O,R as B,b as F,r as o,d as b,j as a,c as t,f as W,T as d,F as H,B as r,M as z,m as K,n as Y,N as re}from"./index-75e0cb1c.js";import{P as U}from"./Pagination-6d1cdaaa.js";import{S as G}from"./Search-5b88e485.js";import{N as J,C as X,a as Z,H as q,D as ee,b as te,B as se,T as ie,c as ce,d as V,e as de,f as $}from"./NotesSkeleton-a204e88b.js";import{A as ae,a as oe}from"./chunk-BPJV7R7V-e083844a.js";import{M as le}from"./chunk-YI7XFFAC-b56ce92b.js";import{H as ue}from"./Header-318919e1.js";import{H as he}from"./HeadTitle-2e5ed730.js";import{F as ge}from"./Footer-62cbe905.js";import"./chunk-IJBC3YLI-ecd8dcc2.js";import"./chunk-RN6VKE3K-3067924d.js";import"./chunk-GJO77I2I-e28f2d83.js";import"./chunk-QTKSMHLN-f35984ae.js";import"./logoWhite-701db893.js";const me=()=>{const n=M(),{isOpen:g,onOpen:p,onClose:S}=O(),x=B.useRef(),u=F(),[f,k]=o.useState([]),[i,D]=o.useState(""),[l,I]=o.useState(""),[c,j]=o.useState(""),[C,L]=o.useState(1),[m,ne]=o.useState(4),N=C*m,y=N-m,[E,v]=o.useState(!0),[_,R]=o.useState(null),A=e=>{D(e)},Q=e=>{I(e)},P=i.trim()!==""||l!==""?f.filter(e=>(i.trim()===""||e.note_name.toLowerCase().includes(i.toLowerCase())||e.branch.name.toLowerCase().includes(i.toLowerCase())||e.subject.name.toLowerCase().includes(i.toLowerCase()))&&(l===""||l.toLowerCase()===e.subject.name.toLowerCase())):f;let h;i!=""||l!=""?h=P:h=P.slice(y,N),o.useEffect(()=>{b("Stoken").get(`get-notes?id=${!0}`).then(e=>{e.data.status==!1?(u({title:e.data.message,status:"error",duration:5e3,isClosable:!0,position:"top"}),localStorage.removeItem("Stoken"),n("/signin")):(k(e.data),v(!1))}).catch(e=>{v(!1),console.log(e),u({title:e.message,status:"error",duration:5e3,isClosable:!0,position:"top"})})},[c]);const w=e=>{b("Stoken").put(`notes-private-public?id=${e}`).then(s=>{s.data.status==!1?(u({title:s.data.message,status:"error",duration:5e3,isClosable:!0,position:"top"}),localStorage.removeItem("Stoken"),n("/signin")):(u({title:s.data.message,status:"success",duration:5e3,isClosable:!0,position:"top"}),j(new Date().toISOString()))}).catch(s=>{console.log(s),u({title:s.message,status:"error",duration:5e3,isClosable:!0,position:"top"})})},T=e=>{S(),b("Stoken").delete(`delete-notes?id=${e}`).then(s=>{s.data.status==!1?(u({title:s.data.message,status:"error",duration:5e3,isClosable:!0,position:"top"}),localStorage.removeItem("Stoken"),n("/signin")):(u({title:s.data.message,status:"success",duration:5e3,isClosable:!0,position:"top"}),j(new Date().toISOString()))}).catch(s=>{console.log(s),u({title:s.message,status:"error",duration:5e3,isClosable:!0,position:"top"})})};return a("div",{children:[f.length>0?t(G,{searchQueryData:A,selectedSubjectData:Q}):null,E?t(J,{}):t("div",{className:"flex justify-center",children:f.length>0?t("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-2",children:h.length>0?h.map((e,s)=>a(X,{maxW:"sm",children:[a(Z,{className:"flex flex-col",children:[t("iframe",{title:"PDF Viewer",src:`http://localhost:4000/${e.file_path}`,height:"240",scrolling:"no",borderRadius:"lg"}),a(W,{mt:"6",spacing:"3",children:[a(q,{size:"md",className:"uppercase",children:[" ",e.note_name]}),a(d,{className:"uppercase",children:["Class : ",e.branch.name," ",t("br",{}),"Subject : ",e.subject.name]}),e.approved?t(d,{children:"Status : Approved"}):e.rejected?a(H,{children:[t(d,{children:"Status : Rejected"}),a(d,{children:["Reason : ",e.rejection_reason]})]}):t(d,{children:"Status : Pending Admin approval"})]})]}),t(ee,{}),t(te,{children:a(se,{spacing:"2",children:[t(r,{className:"bg-red-100 p-3 rounded-lg",children:t("a",{href:`http://localhost:4000/${e.file_path}`,target:"_blank",children:"VIEW"})}),e.private?t(r,{className:"bg-red-100 p-3 rounded-lg",onClick:()=>w(e._id),children:"MAKE PUBLIC"}):t(r,{className:"bg-red-100 p-3 rounded-lg",onClick:()=>w(e._id),children:"MAKE PRIVATE"}),t(r,{className:"bg-red-500 text-white p-3 rounded-lg",onClick:()=>{R(e._id),p()},children:"DELETE"}),t(ae,{isOpen:g,leastDestructiveRef:x,onClose:S,children:t(z,{children:a(oe,{children:[t(K,{fontSize:"lg",fontWeight:"bold",children:"Delete Note"}),t(Y,{children:"Are you sure? You can't undo this action afterwards."}),a(le,{children:[t(r,{ref:x,onClick:S,children:"Cancel"}),t(r,{colorScheme:"red",onClick:()=>{T(_)},ml:3,children:"Delete"})]})]})})})]})})]},s)):a("p",{children:['No results found for "',i,'" and "',l,'"']})}):t("div",{className:"h-40",children:t("p",{className:"text-center font-bold text-lg",children:"You haven't uploaded any notes"})})}),i!=""||l!=""?null:t(U,{totalContents:f.length,contentsPerPage:m,setCurrentPage:L,currentPage:C})]})},pe=()=>{const n=F(),[g,p]=o.useState([]),S=M(),[x,u]=o.useState(""),{isOpen:f,onOpen:k,onClose:i}=O(),D=B.useRef(),[l,I]=o.useState(""),[c,j]=o.useState(""),[C,L]=o.useState(1),[m,ne]=o.useState(4),N=C*m,y=N-m,[E,v]=o.useState(!0),[_,R]=o.useState(null),A=e=>{I(e)},Q=e=>{j(e)},P=l.trim()!==""||c!==""?g.filter(e=>(l.trim()===""||e.video_name.toLowerCase().includes(l.toLowerCase())||e.branch.name.toLowerCase().includes(l.toLowerCase())||e.subject.name.toLowerCase().includes(l.toLowerCase()))&&(c===""||c.toLowerCase()===e.subject.name.toLowerCase())):g;let h;l!=""||c!=""?h=P:h=P.slice(y,N),o.useEffect(()=>{b("Stoken").get(`get-videos?id=${!0}`).then(e=>{e.data.status==!1?(n({title:e.data.message,status:"error",duration:5e3,isClosable:!0,position:"top"}),localStorage.removeItem("Stoken"),S("/signin")):(p(e.data),v(!1))}).catch(e=>{console.log(e),v(!1),n({title:e.message,status:"error",duration:5e3,isClosable:!0,position:"top"})})},[x]);const w=e=>{b("Stoken").put(`videos-private-public?id=${e}`).then(s=>{s.data.status==!1?(n({title:s.data.message,status:"error",duration:5e3,isClosable:!0,position:"top"}),localStorage.removeItem("Stoken"),S("/signin")):(n({title:s.data.message,status:"success",duration:5e3,isClosable:!0,position:"top"}),u(new Date().toISOString()))}).catch(s=>{console.log(s),n({title:s.message,status:"error",duration:5e3,isClosable:!0,position:"top"})})},T=e=>{i(),b("Stoken").delete(`delete-videos?id=${e}`).then(s=>{s.data.status==!1?(n({title:s.data.message,status:"error",duration:5e3,isClosable:!0,position:"top"}),localStorage.removeItem("Stoken"),S("/signin")):(n({title:s.data.message,status:"success",duration:5e3,isClosable:!0,position:"top"}),u(new Date().toISOString()))}).catch(s=>{console.log(s),n({title:s.message,status:"error",duration:5e3,isClosable:!0,position:"top"})})};return a("div",{children:[g.length>0?t(G,{searchQueryData:A,selectedSubjectData:Q}):null,E?t(J,{}):t("div",{className:"flex justify-center",children:g.length>0?t("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-2",children:h.length>0?h.map((e,s)=>a(X,{maxW:"sm",children:[a(Z,{className:"flex flex-col",children:[t("iframe",{title:"PDF Viewer",src:e.video_link,height:"240",scrolling:"no",borderRadius:"lg"}),a(W,{mt:"6",spacing:"3",children:[a(q,{size:"md",className:"uppercase",children:[" ",e.video_name]}),a(d,{className:"uppercase",children:["Class : ",e.branch.name," ",t("br",{}),"Subject : ",e.subject.name]}),e.approved?t(d,{children:"Status : Approved"}):e.rejected?a(H,{children:[t(d,{children:"Status : Rejected"}),a(d,{children:["Reason : ",e.rejection_reason]})]}):t(d,{children:"Status : Pending Admin approval"})]})]}),t(ee,{}),t(te,{children:a(se,{spacing:"2",className:"mx-auto",children:[e.private?t(r,{className:"bg-red-100 p-3 rounded-lg",onClick:()=>w(e._id),children:"MAKE PUBLIC"}):t(r,{className:"bg-red-100 p-3 rounded-lg",onClick:()=>w(e._id),children:"MAKE PRIVATE"}),t(r,{className:"bg-red-500 text-white p-3 rounded-lg",onClick:()=>{R(e._id),k()},children:"DELETE"}),t(ae,{isOpen:f,leastDestructiveRef:D,onClose:i,children:t(z,{children:a(oe,{children:[t(K,{fontSize:"lg",fontWeight:"bold",children:"Delete Video"}),t(Y,{children:"Are you sure? You can't undo this action afterwards."}),a(le,{children:[t(r,{ref:D,onClick:i,children:"Cancel"}),t(r,{colorScheme:"red",onClick:()=>T(_),ml:3,children:"Delete"})]})]})})})]})})]},s)):a("p",{children:['No results found for "',l,'" and "',c,'"']})}):t("div",{className:"h-40",children:t("p",{className:"text-center font-bold text-lg",children:"You haven't uploaded any videos"})})}),l!=""||c!=""?null:t(U,{totalContents:g.length,contentsPerPage:m,setCurrentPage:L,currentPage:C})]})},Se=()=>{const n=F(),g=M(),[p,S]=o.useState([]),[x,u]=o.useState(""),{isOpen:f,onOpen:k,onClose:i}=O(),D=B.useRef(),[l,I]=o.useState(""),[c,j]=o.useState(""),[C,L]=o.useState(1),[m,ne]=o.useState(4),N=C*m,y=N-m,[E,v]=o.useState(!0),[_,R]=o.useState(null),A=e=>{I(e)},Q=e=>{j(e)},P=l.trim()!==""||c!==""?p.filter(e=>(l.trim()===""||e.exam_name.toLowerCase().includes(l.toLowerCase())||e.branch.name.toLowerCase().includes(l.toLowerCase())||e.subject.name.toLowerCase().includes(l.toLowerCase()))&&(c===""||c.toLowerCase()===e.subject.name.toLowerCase())):p;let h;l!=""||c!=""?h=P:h=P.slice(y,N),o.useEffect(()=>{b("Stoken").get(`get-question-papers?id=${!0}`).then(e=>{e.data.status==!1?(n({title:e.data.message,status:"error",duration:5e3,isClosable:!0,position:"top"}),localStorage.removeItem("Stoken"),g("/signin")):(S(e.data),v(!1))}).catch(e=>{v(!1),console.log(e),n({title:e.message,status:"error",duration:5e3,isClosable:!0,position:"top"})})},[x]);const w=e=>{b("Stoken").put(`questions-private-public?id=${e}`).then(s=>{s.data.status==!1?(n({title:s.data.message,status:"error",duration:5e3,isClosable:!0,position:"top"}),localStorage.removeItem("Stoken"),g("/signin")):(n({title:s.data.message,status:"success",duration:5e3,isClosable:!0,position:"top"}),u(new Date().toISOString()))}).catch(s=>{console.log(s),n({title:s.message,status:"error",duration:5e3,isClosable:!0,position:"top"})})},T=e=>{i(),b("Stoken").delete(`delete-questions?id=${e}`).then(s=>{s.data.status==!1?(n({title:s.data.message,status:"error",duration:5e3,isClosable:!0,position:"top"}),localStorage.removeItem("Stoken"),g("/signin")):(n({title:s.data.message,status:"success",duration:5e3,isClosable:!0,position:"top"}),u(new Date().toISOString()))}).catch(s=>{console.log(s),n({title:s.message,status:"error",duration:5e3,isClosable:!0,position:"top"})})};return a("div",{children:[p.length>0?t(G,{searchQueryData:A,selectedSubjectData:Q}):null,E?t(J,{}):t("div",{className:"flex justify-center",children:p.length>0?t("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-1",children:h.length>0?h.map((e,s)=>a(X,{maxW:"sm",children:[a(Z,{className:"flex flex-col",children:[t("iframe",{title:"PDF Viewer",src:`http://localhost:4000/${e.file_path}`,height:"240",scrolling:"no",borderRadius:"lg"}),a(W,{mt:"6",spacing:"3",children:[a(q,{size:"md",className:"uppercase",children:[" ",e.exam_name]}),a(d,{className:"uppercase",children:["Class : ",e.branch.name," ",t("br",{}),"Subject : ",e.subject.name]}),e.approved?t(d,{children:"Status : Approved"}):e.rejected?a(H,{children:[t(d,{children:"Status : Rejected"}),a(d,{children:["Reason : ",e.rejection_reason]})]}):t(d,{children:"Status : Pending Admin approval"})]})]}),t(ee,{}),t(te,{children:a(se,{spacing:"2",children:[t(r,{className:"bg-red-100 p-3 rounded-lg",children:t("a",{href:`http://localhost:4000/${e.file_path}`,target:"_blank",children:"VIEW"})}),e.private?t(r,{className:"bg-red-100 p-3 rounded-lg",onClick:()=>w(e._id),children:"MAKE PUBLIC"}):t(r,{className:"bg-red-100 p-3 rounded-lg",onClick:()=>w(e._id),children:"MAKE PRIVATE"}),t(r,{className:"bg-red-500 text-white p-3 rounded-lg",onClick:()=>{R(e._id),k()},children:"DELETE"}),t(ae,{isOpen:f,leastDestructiveRef:D,onClose:i,children:t(z,{children:a(oe,{children:[t(K,{fontSize:"lg",fontWeight:"bold",children:"Delete Question Paper"}),t(Y,{children:"Are you sure? You can't undo this action afterwards."}),a(le,{children:[t(r,{ref:D,onClick:i,children:"Cancel"}),t(r,{colorScheme:"red",onClick:()=>T(_),ml:3,children:"Delete"})]})]})})})]})})]},s)):a("p",{children:['No results found for "',l,'" and "',c,'"']})}):t("div",{className:"h-40",children:t("p",{className:"text-center font-bold text-lg",children:"You haven't uploaded any question papers"})})}),l!=""||c!=""?null:t(U,{totalContents:p.length,contentsPerPage:m,setCurrentPage:L,currentPage:C})]})},Ee=()=>a("div",{className:"min-h-screen max-w-screen-2xl mx-auto w-full pt-16 bg-[#d4d8f0] overflow-x-hidden",children:[t(re,{}),t(ue,{}),t(he,{title:"my uploads"}),a(ie,{variant:"line",colorScheme:"green",children:[a(ce,{className:"bg-[#fffffe] text-black",children:[t(V,{className:"w-1/3",children:"NOTES"}),t(V,{className:"w-1/3",children:"VIDEOS"}),t(V,{className:"w-1/3",children:"QUESTION PAPERS"})]}),a(de,{children:[t($,{children:t(me,{})}),t($,{children:t(pe,{})}),t($,{children:t(Se,{})})]})]}),t("div",{className:"mt-5",children:t(ge,{})})]});export{Ee as default};
