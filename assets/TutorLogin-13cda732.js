import{r as u,u as f,a as w,b as N,j as a,c as e,B as v,d as y,q as k}from"./index-75e0cb1c.js";import{c as S,a as h,u as I}from"./index.esm-7cbbfad3.js";import{l as T}from"./logoWhite-701db893.js";const C={email:"",password:""},P=()=>{const[p,r]=u.useState(null),o=f(),g=w(),l=N(),x=S({email:h().email().required("Please enter your email"),password:h().required("Please enter your password")}),{values:n,errors:s,touched:i,handleBlur:d,handleChange:c,handleSubmit:b}=I({initialValues:C,validationSchema:x,onSubmit:(m,E)=>{r(!0),y().post("auth/tutor-signin",{...m}).then(t=>{r(!1),t.data.created?(l({title:t.data.message,status:"success",duration:5e3,isClosable:!0,position:"top"}),g(k({tutor:t.data.tutor})),localStorage.setItem("Ttoken",t.data.token),o("/tutor/dashboard")):t.data.pending?(localStorage.setItem("Ttoken",t.data.token),o("/tutor/approval-pending")):t.data.rejected?(localStorage.setItem("Ttoken",t.data.token),o("/tutor/approval-rejected")):l({title:t.data.message,status:"error",duration:5e3,isClosable:!0,position:"top"})}).catch(t=>{r(!1),l({title:t.message,status:"error",duration:5e3,isClosable:!0,position:"top"})})}});return u.useEffect(()=>{localStorage.getItem("Ttoken")&&o("/tutor/dashboard")},[o]),a("div",{className:"bg-gray-800 max-w-screen-2xl mx-auto min-h-screen flex flex-col",children:[a("div",{className:"text-white mt-10 max-w-sm mx-auto p-3 rounded-2xl",children:[e("img",{src:T,className:"w-20 h-20 mx-auto mb-4",alt:"logo"}),e("p",{className:"font-bold text-3xl",children:"WELCOME TO EDU-HELP"}),e("p",{className:"uppercase text-center font-medium",children:"sign in to continue"}),e("p",{className:"uppercase text-center font-normal",children:"happy teaching"})]}),a("div",{className:"container max-w-sm mx-auto flex flex-col items-center mt-5  px-2",children:[e("div",{className:"bg-white px-6 py-8 rounded-2xl shadow-md text-black w-full",children:a("form",{action:"",onSubmit:b,children:[e("input",{type:"email",className:"block border border-grey-light w-full p-3 rounded mb-4",name:"email",placeholder:"Email",value:n.email,onChange:c,onBlur:d}),s.email&&i.email?e("p",{className:"form-error text-red-600",children:s.email}):null,e("input",{type:"password",className:"block border border-grey-light w-full p-3 rounded mb-4",name:"password",placeholder:"Password",value:n.password,onChange:c,onBlur:d}),s.password&&i.password?e("p",{className:"form-error text-red-600",children:s.password}):null,e(v,{isLoading:p,type:"submit",className:"w-full text-center py-3 rounded bg-green-500 text-white hover:bg-green-300 focus:outline-none my-1",children:"SIGN IN"})]})}),a("div",{className:"text-white mt-6",children:["Don't have an account?",e("a",{className:"no-underline border-b ml-2 border-white text-yellow",href:"/tutor/signup",children:"Signup"})]}),a("div",{className:"text-white mb-5",children:["Login as a student?",e("a",{className:"no-underline border-b ml-2 border-white text-yellow",href:"/signin",children:"Login"})]})]})]})};export{P as default};
