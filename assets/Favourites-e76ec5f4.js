import{b as $,u as M,l as W,R as A,r as a,d as P,j as s,c as t,f as H,T as z,B as u,M as B,m as q,n as Y,N as re}from"./index-75e0cb1c.js";import{S as G}from"./Search-5b88e485.js";import{P as U}from"./Pagination-6d1cdaaa.js";import{N as J,C as K,a as X,H as Z,D as ee,b as te,B as se,T as le,c as ie,d as F,e as ce,f as T}from"./NotesSkeleton-a204e88b.js";import{A as ae,a as oe}from"./chunk-BPJV7R7V-e083844a.js";import{M as ne}from"./chunk-YI7XFFAC-b56ce92b.js";import{H as de}from"./Header-318919e1.js";import{H as ue}from"./HeadTitle-2e5ed730.js";import{F as he}from"./Footer-62cbe905.js";import"./chunk-IJBC3YLI-ecd8dcc2.js";import"./chunk-RN6VKE3K-3067924d.js";import"./chunk-GJO77I2I-e28f2d83.js";import"./chunk-QTKSMHLN-f35984ae.js";import"./logoWhite-701db893.js";const me=()=>{const r=$(),m=M(),{isOpen:j,onOpen:R,onClose:p}=W(),C=A.useRef(),[L,k]=a.useState([]),[i,S]=a.useState(""),[n,I]=a.useState(""),[c,D]=a.useState(""),[v,N]=a.useState(!0),[h,_]=a.useState(null),[g,Q]=a.useState(1),[b,w]=a.useState(4),x=g*b,y=x-b,V=e=>{S(e)},E=e=>{I(e)},l=L.filter(e=>e.note.listed==!0),f=i.trim()!==""||n!==""?l.filter(e=>(i.trim()===""||e.note.note_name.toLowerCase().includes(i.toLowerCase())||e.branch.toLowerCase().includes(i.toLowerCase())||e.subject.toLowerCase().includes(i.toLowerCase()))&&(n===""||n.toLowerCase()===e.subject.toLowerCase())):l;let d;i!=""||n!=""?d=f:d=f.slice(y,x),a.useEffect(()=>{P("Stoken").get("favourite-notes").then(e=>{e.data.status==!1?(r({title:e.data.message,status:"error",duration:5e3,isClosable:!0,position:"top"}),localStorage.removeItem("Stoken"),m("/signin")):(k(e.data),N(!1))}).catch(e=>{N(!1),console.log(e),r({title:e.message,status:"error",duration:5e3,isClosable:!0,position:"top"})})},[c]);const O=e=>{p(),P("Stoken").put(`remove-favourite-note/${e}`).then(o=>{o.data.status==!1?(r({title:o.data.message,status:"error",duration:5e3,isClosable:!0,position:"top"}),localStorage.removeItem("Stoken"),m("/signin")):(r({title:o.data.message,status:"success",duration:5e3,isClosable:!0,position:"top"}),D(new Date().toISOString()))}).catch(o=>{console.log(o),r({title:o.message,status:"success",duration:5e3,isClosable:!0,position:"top"})})};return s("div",{children:[l.length>0?t(G,{searchQueryData:V,selectedSubjectData:E}):null,v?t(J,{}):t("div",{className:"flex justify-center",children:l.length>0?t("div",{className:"grid md:grid-cols-4 gap-1",children:d.length>0?d.map((e,o)=>s(K,{maxW:"sm",children:[s(X,{children:[t("iframe",{title:"PDF Viewer",src:`http://localhost:4000/${e.note.file_path}`,height:"240",scrolling:"no",borderRadius:"lg"}),s(H,{mt:"6",spacing:"3",children:[s(Z,{size:"md",className:"uppercase",children:[" ",e.note.note_name]}),s(z,{className:"uppercase",children:["Class : ",e.branch," ",t("br",{}),"Subject : ",e.subject]})]})]}),t(ee,{}),t(te,{children:s(se,{spacing:"2",children:[t(u,{className:"bg-red-100 p-3 rounded-lg",children:t("a",{href:`http://localhost:4000/${e.note.file_path}`,target:"_blank",children:"VIEW"})}),t(u,{className:"bg-red-500 text-white p-3 rounded-lg",onClick:()=>{_(e._id),R()},children:"REMOVE"}),t(ae,{isOpen:j,leastDestructiveRef:C,onClose:p,children:t(B,{children:s(oe,{children:[t(q,{fontSize:"lg",fontWeight:"bold",children:"Remove from favourite"}),t(Y,{children:"Are you sure? You can't undo this action afterwards."}),s(ne,{children:[t(u,{ref:C,onClick:p,children:"Cancel"}),t(u,{colorScheme:"red",onClick:()=>O(h),ml:3,children:"Remove"})]})]})})})]})})]},o)):s("p",{children:['No results found for "',i,'" and "',n,'"']})}):t("div",{className:"h-40",children:t("p",{className:"text-center font-bold text-lg",children:"Nothing in favourite notes"})})}),i!=""||n!=""?null:t(U,{totalContents:l.length,contentsPerPage:b,setCurrentPage:Q,currentPage:g})]})},ge=()=>{const r=$(),m=M(),[j,R]=a.useState([]),[p,C]=a.useState(""),{isOpen:L,onOpen:k,onClose:i}=W(),S=A.useRef(),[n,I]=a.useState(""),[c,D]=a.useState(""),[v,N]=a.useState(1),[h,_]=a.useState(4),g=v*h,Q=g-h,[b,w]=a.useState(!0),[x,y]=a.useState(null),V=e=>{I(e)},E=e=>{D(e)},l=j.filter(e=>e.video.listed==!0),f=n.trim()!==""||c!==""?l.filter(e=>(n.trim()===""||e.video.video_name.toLowerCase().includes(n.toLowerCase())||e.branch.toLowerCase().includes(n.toLowerCase())||e.subject.toLowerCase().includes(n.toLowerCase()))&&(c===""||c.toLowerCase()===e.subject.toLowerCase())):l;let d;n!=""||c!=""?d=f:d=f.slice(Q,g),a.useEffect(()=>{P("Stoken").get("favourite-videos").then(e=>{e.data.status==!1?(r({title:e.data.message,status:"error",duration:5e3,isClosable:!0,position:"top"}),localStorage.removeItem("Stoken"),m("/signin")):(R(e.data),w(!1))}).catch(e=>{w(!1),console.log(e),r({title:e.message,status:"error",duration:5e3,isClosable:!0,position:"top"})})},[p]);const O=e=>{i(),P("Stoken").put(`remove-favourite-video/${e}`).then(o=>{o.data.status==!1?(r({title:o.data.message,status:"error",duration:5e3,isClosable:!0,position:"top"}),localStorage.removeItem("Stoken"),m("/signin")):(r({title:o.data.message,status:"success",duration:5e3,isClosable:!0,position:"top"}),C(new Date().toISOString()))}).catch(o=>{console.log(o),r({title:o.message,status:"success",duration:5e3,isClosable:!0,position:"top"})})};return s("div",{children:[l.length>0?t(G,{searchQueryData:V,selectedSubjectData:E}):null,b?t(J,{}):t("div",{className:"flex justify-center",children:l.length>0?t("div",{className:"grid md:grid-cols-4 gap-1",children:d.length>0?d.map((e,o)=>s(K,{maxW:"sm",children:[s(X,{children:[t("iframe",{title:"PDF Viewer",src:e.video.video_link,height:"240",scrolling:"no",borderRadius:"lg"}),s(H,{mt:"6",spacing:"3",children:[s(Z,{size:"md",className:"uppercase",children:[" ",e.video.video_name]}),s(z,{className:"uppercase",children:["Class : ",e.branch," ",t("br",{}),"Subject : ",e.subject]})]})]}),t(ee,{}),t(te,{children:s(se,{spacing:"2",className:"mx-auto",children:[t(u,{className:"bg-red-500 text-white p-3 rounded-lg",onClick:()=>{y(e._id),k()},children:"REMOVE"}),t(ae,{isOpen:L,leastDestructiveRef:S,onClose:i,children:t(B,{children:s(oe,{children:[t(q,{fontSize:"lg",fontWeight:"bold",children:"Remove Video from favourites"}),t(Y,{children:"Are you sure? You can't undo this action afterwards."}),s(ne,{children:[t(u,{ref:S,onClick:i,children:"Cancel"}),t(u,{colorScheme:"red",onClick:()=>O(x),ml:3,children:"Remove"})]})]})})})]})})]},o)):s("p",{children:['No results found for "',n,'" and "',c,'"']})}):t("div",{className:"h-40",children:t("p",{className:"text-center font-bold text-lg",children:"Nothing in favourite videos"})})}),n!=""||c!=""?null:t(U,{totalContents:l.length,contentsPerPage:h,setCurrentPage:N,currentPage:v})]})},fe=()=>{const r=$(),m=M(),[j,R]=a.useState([]),[p,C]=a.useState(""),{isOpen:L,onOpen:k,onClose:i}=W(),S=A.useRef(),[n,I]=a.useState(""),[c,D]=a.useState(""),[v,N]=a.useState(1),[h,_]=a.useState(4),g=v*h,Q=g-h,[b,w]=a.useState(!0),[x,y]=a.useState(null),V=e=>{I(e)},E=e=>{D(e)},l=j.filter(e=>e.question.listed==!0),f=n.trim()!==""||c!==""?l.filter(e=>(n.trim()===""||e.question.exam_name.toLowerCase().includes(n.toLowerCase())||e.branch.toLowerCase().includes(n.toLowerCase())||e.subject.toLowerCase().includes(n.toLowerCase()))&&(c===""||c.toLowerCase()===e.subject.toLowerCase())):l;let d;n!=""||c!=""?d=f:d=f.slice(Q,g),a.useEffect(()=>{P("Stoken").get("favourite-questions").then(e=>{e.data.status==!1?(r({title:e.data.message,status:"error",duration:5e3,isClosable:!0,position:"top"}),localStorage.removeItem("Stoken"),m("/signin")):(R(e.data),w(!1))}).catch(e=>{w(!1),console.log(e),r({title:e.message,status:"error",duration:5e3,isClosable:!0,position:"top"})})},[p]);const O=e=>{i(),P("Stoken").put(`remove-favourite-questions/${e}`).then(o=>{o.data.status==!1?(r({title:o.data.message,status:"error",duration:5e3,isClosable:!0,position:"top"}),localStorage.removeItem("Stoken"),m("/signin")):(r({title:o.data.message,status:"success",duration:5e3,isClosable:!0,position:"top"}),C(new Date().toISOString()))}).catch(o=>{console.log(o),r({title:o.message,status:"success",duration:5e3,isClosable:!0,position:"top"})})};return s("div",{children:[l.length>0?t(G,{searchQueryData:V,selectedSubjectData:E}):null,b?t(J,{}):t("div",{className:"flex justify-center",children:l.length>0?t("div",{className:"grid md:grid-cols-4 gap-1",children:d.length>0?d.map((e,o)=>s(K,{maxW:"sm",children:[s(X,{children:[t("iframe",{title:"PDF Viewer",src:`http://localhost:4000/${e.question.file_path}`,height:"240",scrolling:"no",borderRadius:"lg"}),s(H,{mt:"6",spacing:"3",children:[s(Z,{size:"md",className:"uppercase",children:[" ",e.question.exam_name]}),s(z,{className:"uppercase",children:["Class : ",e.branch," ",t("br",{}),"Subject : ",e.subject]})]})]}),t(ee,{}),t(te,{children:s(se,{spacing:"2",children:[t(u,{className:"bg-red-100 p-3 rounded-lg",children:t("a",{href:`http://localhost:4000/${e.question.file_path}`,target:"_blank",children:"VIEW"})}),t(u,{className:"bg-red-500 text-white p-3 rounded-lg",onClick:()=>{y(e._id),k()},children:"REMOVE"}),t(ae,{isOpen:L,leastDestructiveRef:S,onClose:i,children:t(B,{children:s(oe,{children:[t(q,{fontSize:"lg",fontWeight:"bold",children:"Remove from favourite"}),t(Y,{children:"Are you sure? You can't undo this action afterwards."}),s(ne,{children:[t(u,{ref:S,onClick:i,children:"Cancel"}),t(u,{colorScheme:"red",onClick:()=>O(x),ml:3,children:"Delete"})]})]})})})]})})]},o)):s("p",{children:['No results found for "',n,'" and "',c,'"']})}):t("div",{className:"h-40",children:t("p",{className:"text-center font-bold text-lg",children:"Nothing in favourite question papers"})})}),n!=""||c!=""?null:t(U,{totalContents:l.length,contentsPerPage:h,setCurrentPage:N,currentPage:v})]})},De=()=>s("div",{className:"min-h-screen max-w-screen-2xl mx-auto w-full pt-16 bg-[#d4d8f0] overflow-x-hidden",children:[t(re,{}),t(de,{}),t(ue,{title:"favourites"}),s(le,{variant:"line",colorScheme:"green",children:[s(ie,{className:"bg-[#fffffe] text-black",children:[t(F,{className:"w-1/3",children:"NOTES"}),t(F,{className:"w-1/3",children:"VIDEOS"}),t(F,{className:"w-1/3",children:"QUESTION PAPERS"})]}),s(ce,{children:[t(T,{children:t(me,{})}),t(T,{children:t(ge,{})}),t(T,{children:t(fe,{})})]})]}),t("div",{className:"mt-5",children:t(he,{})})]});export{De as default};
