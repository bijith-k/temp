import{r as t,u as T,b as F,d as f,j as r,c as e}from"./index-75e0cb1c.js";import{c as q,a as m,u as L}from"./index.esm-7cbbfad3.js";import{l as U}from"./logoWhite-701db893.js";const _={name:"",email:"",phone:"",subjects:"",timeFrom:"",timeTo:"",place:"",profession:"",password:""},O=()=>{const[S,u]=t.useState(null),h=T(),[k,B]=t.useState([]),[j,g]=t.useState([]),[i,C]=t.useState(""),[p,w]=t.useState(""),b=F(),[N,x]=t.useState(null),[y,v]=t.useState(null);t.useEffect(()=>{f().get("auth/boards").then(l=>B(l.data.board)).catch(l=>console.error(l))},[]),t.useEffect(()=>{i?(w(""),f().get(`auth/branches?board=${i}`).then(l=>{g(l.data.branches)}).catch(l=>{console.log(l)})):g([])},[i]);const P=q({name:m().min(2).max(25).required("Please enter your name"),email:m().email().required("Please enter your email"),password:m().min(6).required("Please enter your password"),phone:m().matches(/^[0-9]{10}$/,"Phone number is not valid").required("Please enter your mobile number"),subjects:m().required("Please enter subjects you can handle"),timeFrom:m().required("Please enter the time when you become free"),timeTo:m().required("Please enter the time upto you are free"),profession:m().required("Please enter your profession"),place:m().required("Please enter your place")}),{values:o,errors:a,touched:s,handleBlur:n,handleChange:d,handleSubmit:E}=L({initialValues:_,validationSchema:P,onSubmit:(l,$)=>{if(!i){x("Please select a board");return}if(!p){v("Please select a branch");return}u(!0),f().post("auth/tutor-signup",{...l,board:i,branch:p}).then(c=>{u(!1),c.data.otpSend?(b({title:c.data.message,status:"success",duration:5e3,isClosable:!0,position:"top"}),h("/tutor/otp")):(u(!1),b({title:c.data.message,status:"error",duration:5e3,isClosable:!0,position:"top"}))}).catch(c=>{u(!1),b({title:c.response.data.errors,status:"error",duration:5e3,isClosable:!0,position:"top"})})}});return t.useEffect(()=>{localStorage.getItem("Ttoken")&&h("/tutor/dashboard")},[h]),r("div",{className:"bg-gray-800 max-w-screen-2xl mx-auto min-h-screen flex flex-col",children:[r("div",{className:"text-white mt-5 max-w-sm mx-auto p-3 rounded-2xl",children:[e("img",{src:U,className:"w-20 h-20 mx-auto mb-4",alt:"logo"}),e("p",{className:"font-bold text-3xl",children:"WELCOME TO EDU-HELP"}),e("p",{className:"uppercase text-center font-medium",children:"register to start the journey"})]}),r("div",{className:"container max-w-2xl mx-auto flex-1 flex flex-col items-center justify-center px-2",children:[e("div",{className:"bg-white px-6 py-8 mt-10 rounded-2xl shadow-md text-black w-full",children:r("form",{action:"",onSubmit:E,children:[r("div",{className:"md:flex md:justify-between md:mb-4",children:[r("div",{className:"md:w-1/2 md:pr-2",children:[e("input",{type:"text",className:"block border border-gray-light w-full p-3 rounded mb-4",name:"name",placeholder:"Name",value:o.name,onChange:d,onBlur:n}),a.name&&s.name?e("p",{className:"form-error text-red-600",children:a.name}):null]}),r("div",{className:"md:w-1/2 md:pr-2",children:[e("input",{type:"email",className:"block border border-grey-light w-full p-3 rounded mb-4",name:"email",placeholder:"Email",value:o.email,onChange:d,onBlur:n}),a.email&&s.email?e("p",{className:"form-error text-red-600",children:a.email}):null]})]}),r("div",{className:"md:flex md:justify-between md:mb-4",children:[r("div",{className:"md:w-1/2 md:pr-2",children:[e("input",{type:"number",className:"block border border-grey-light w-full p-3 rounded mb-4",name:"phone",placeholder:"Mobile Number",value:o.phone,onChange:d,onBlur:n}),a.phone&&s.phone?e("p",{className:"form-error text-red-600",children:a.phone}):null]}),r("div",{className:"md:w-1/2 md:pr-2",children:[e("input",{type:"text",className:"block border border-grey-light w-full p-3 rounded mb-4",name:"place",placeholder:"Place",value:o.place,onChange:d,onBlur:n}),a.place&&s.place?e("p",{className:"form-error text-red-600",children:a.place}):null]})]}),r("div",{className:"md:flex md:justify-between md:mb-4",children:[r("div",{className:"md:w-1/2 md:pr-2",children:[r("select",{name:"board",value:i,onChange:l=>{C(l.target.value),x(null)},className:"block border border-grey-light w-full p-3 rounded mb-4",children:[e("option",{value:"",className:"block border border-grey-light w-full p-3 rounded mb-4",disabled:!0,children:"Select Board/University"}),k.map(l=>e("option",{className:"block border border-grey-light w-full p-3 rounded mb-4",value:l._id,children:l.name},l._id))]}),N?e("p",{className:"form-error text-red-600",children:N}):null]}),r("div",{className:"md:w-1/2 md:pr-2",children:[r("select",{name:"branch",className:"block border border-grey-light w-full p-3 rounded mb-4",value:p,onChange:l=>{w(l.target.value),v(null)},children:[e("option",{value:"",className:"block border border-grey-light w-full p-3 rounded mb-4",disabled:!0,children:"Select Class/Branch"}),j.map(l=>e("option",{value:l._id,className:"block border border-grey-light w-full p-3 rounded mb-4",children:l.name},l._id))]}),y?e("p",{className:"form-error text-red-600",children:y}):null]})]}),r("div",{className:"md:flex md:justify-between md:mb-4",children:[r("div",{className:"md:w-1/2 md:pr-2",children:[e("label",{htmlFor:"timeFrom",children:"Select the time, when you become free"}),e("input",{type:"time",className:"block border border-grey-light w-full p-3 rounded mb-4",name:"timeFrom",placeholder:"Enter the time, when you become free",value:o.timeFrom,onChange:d,onBlur:n}),a.timeFrom&&s.timeFrom?e("p",{className:"form-error text-red-600",children:a.timeFrom}):null]}),r("div",{className:"md:w-1/2 md:pr-2",children:[e("label",{htmlFor:"timeTo",children:"Select the time, when you are free upto"}),e("input",{type:"time",className:"block border border-grey-light w-full p-3 rounded mb-4",name:"timeTo",value:o.timeTo,onChange:d,onBlur:n}),a.timeTo&&s.timeTo?e("p",{className:"form-error text-red-600",children:a.timeTo}):null]})]}),r("div",{className:"md:flex md:justify-between md:mb-4",children:[r("div",{className:"md:w-1/2 md:pr-2",children:[e("input",{type:"text",className:"block border border-grey-light w-full p-3 rounded mb-4",name:"subjects",placeholder:"Subjects you can handle",value:o.subjects,onChange:d,onBlur:n}),a.subjects&&s.subjects?e("p",{className:"form-error text-red-600",children:a.subjects}):null]}),r("div",{className:"md:w-1/2 md:pr-2",children:[e("input",{type:"text",className:"block border border-grey-light w-full p-3 rounded mb-4",name:"profession",placeholder:"Profession",value:o.profession,onChange:d,onBlur:n}),a.profession&&s.profession?e("p",{className:"form-error text-red-600",children:a.profession}):null]})]}),e("input",{type:"password",className:"block border border-grey-light w-full p-3 rounded mb-4",name:"password",placeholder:"Password",value:o.password,onChange:d,onBlur:n}),a.password&&s.password?e("p",{className:"form-error text-red-600",children:a.password}):null,e("button",{isLoading:S,type:"submit",className:"w-full text-center py-3 rounded bg-green-500 text-white hover:bg-green-300 focus:outline-none my-1",children:"Create Account"})]})}),r("div",{className:"text-white mt-6",children:["Already have an account?",e("a",{className:"no-underline border-b ml-2 border-white text-yellow",href:"/tutor",children:"Log in"})]}),r("div",{className:"text-white mb-5",children:["Register as a student?",e("a",{className:"no-underline border-b ml-2 border-white text-yellow",href:"/signup",children:"Register"})]})]})]})};export{O as default};
